<form [formGroup]="pessoaForm" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label for="nome" class="form-label">Nome *</label>
    <input
      type="text"
      id="nome"
      formControlName="nome"
      class="form-control"
      [class.is-invalid]="
        pessoaForm.get('nome')?.invalid && pessoaForm.get('nome')?.touched
      "
    />
    <div
      *ngIf="pessoaForm.get('nome')?.invalid && pessoaForm.get('nome')?.touched"
      class="invalid-feedback"
    >
      {{ getErrorMessage("nome") }}
    </div>
  </div>

  <div class="mb-3">
    <label for="cpf" class="form-label">CPF *</label>
    <input
      type="text"
      id="cpf"
      formControlName="cpf"
      (input)="onCpfInput($event)"
      placeholder="000.000.000-00"
      class="form-control"
      [class.is-invalid]="
        pessoaForm.get('cpf')?.invalid && pessoaForm.get('cpf')?.touched
      "
    />
    <div
      *ngIf="pessoaForm.get('cpf')?.invalid && pessoaForm.get('cpf')?.touched"
      class="invalid-feedback"
    >
      {{ getErrorMessage("cpf") }}
    </div>
  </div>

  <div class="mb-3">
    <label for="sexo" class="form-label">Sexo *</label>
    <select
      id="sexo"
      formControlName="sexo"
      class="form-select"
      [class.is-invalid]="
        pessoaForm.get('sexo')?.invalid && pessoaForm.get('sexo')?.touched
      "
    >
      <option value="">Selecione</option>
      <option *ngFor="let option of sexoOptions" [value]="option.value">
        {{ option.label }}
      </option>
    </select>
    <div
      *ngIf="pessoaForm.get('sexo')?.invalid && pessoaForm.get('sexo')?.touched"
      class="invalid-feedback"
    >
      {{ getErrorMessage("sexo") }}
    </div>
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">E-mail *</label>
    <input
      type="email"
      id="email"
      formControlName="email"
      class="form-control"
      [class.is-invalid]="
        pessoaForm.get('email')?.invalid && pessoaForm.get('email')?.touched
      "
    />
    <div
      *ngIf="
        pessoaForm.get('email')?.invalid && pessoaForm.get('email')?.touched
      "
      class="invalid-feedback"
    >
      {{ getErrorMessage("email") }}
    </div>
  </div>

  <div class="mb-3">
    <label for="telefone" class="form-label">Telefone *</label>
    <input
      type="tel"
      id="telefone"
      formControlName="telefone"
      (input)="onTelefoneInput($event)"
      placeholder="(11) 99999-9999"
      class="form-control"
      [class.is-invalid]="
        pessoaForm.get('telefone')?.invalid &&
        pessoaForm.get('telefone')?.touched
      "
    />
    <div
      *ngIf="
        pessoaForm.get('telefone')?.invalid &&
        pessoaForm.get('telefone')?.touched
      "
      class="invalid-feedback"
    >
      {{ getErrorMessage("telefone") }}
    </div>
  </div>

  <button
    type="submit"
    [disabled]="pessoaForm.invalid || isSubmitting"
    class="btn btn-primary"
  >
    {{ isSubmitting ? "Cadastrando..." : "Cadastrar" }}
  </button>
</form>
